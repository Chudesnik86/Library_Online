{% extends "base.html" %}

{% block title %}–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∞–º–∏ - Library Online{% endblock %}

{% block nav %}
<a href="/admin/dashboard">–ü–∞–Ω–µ–ª—å</a>
<a href="/admin/customers">–ß–∏—Ç–∞—Ç–µ–ª–∏</a>
<a href="/admin/books">–ö–Ω–∏–≥–∏</a>
<a href="/admin/issues">–í—ã–¥–∞—á–∏</a>
<a href="/admin/reports">–û—Ç—á–µ—Ç—ã</a>
<span style="margin-left: auto; color: white;">üë®‚Äçüíº {{ user_name or '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä' }}</span>
<a href="/auth/logout">–í—ã—Ö–æ–¥</a>
{% endblock %}

{% block content %}
<div class="container">
    <div class="card">
        <div class="flex-between">
            <h1 class="card-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∞–º–∏</h1>
            <button class="btn btn-success" onclick="showAddBookModal()">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É</button>
        </div>

        <div class="search-bar">
            <input type="text" class="form-control" id="search-input" placeholder="–ü–æ–∏—Å–∫ –ø–æ ID, –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ –∞–≤—Ç–æ—Ä—É..." />
            <button class="btn btn-primary" onclick="searchBooks()">üîç –ü–æ–∏—Å–∫</button>
        </div>

        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                        <th>–ê–≤—Ç–æ—Ä</th>
                        <th>ISBN</th>
                        <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                        <th>–í—Å–µ–≥–æ</th>
                        <th>–î–æ—Å—Ç—É–ø–Ω–æ</th>
                        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                    </tr>
                </thead>
                <tbody id="books-table">
                    <tr><td colspan="8" class="text-center">–ó–∞–≥—Ä—É–∑–∫–∞...</td></tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- Add/Edit Book Modal -->
<div id="book-modal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <span class="modal-close" onclick="closeModal()">&times;</span>
            <h2 class="modal-title" id="modal-title">–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É</h2>
        </div>
        <form id="book-form">
            <input type="hidden" id="book-id" />
            <div class="form-group">
                <label>ID –∫–Ω–∏–≥–∏ *</label>
                <input type="text" class="form-control" id="book-id-input" required />
            </div>
            <div class="form-group">
                <label>–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                <input type="text" class="form-control" id="book-title" required />
            </div>
            <div class="form-group">
                <label>–ê–≤—Ç–æ—Ä</label>
                <input type="text" class="form-control" id="book-author" />
            </div>
            <div class="form-group">
                <label>ISBN</label>
                <input type="text" class="form-control" id="book-isbn" />
            </div>
            <div class="form-group">
                <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                <input type="text" class="form-control" id="book-category" />
            </div>
            <div class="form-group">
                <label>–í—Å–µ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤</label>
                <input type="number" class="form-control" id="book-total" value="1" min="1" />
            </div>
            <div class="form-group">
                <label>–î–æ—Å—Ç—É–ø–Ω–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤</label>
                <input type="number" class="form-control" id="book-available" value="1" min="0" />
            </div>
            <div class="modal-footer">
                <button type="button" class="btn" onclick="closeModal()">–û—Ç–º–µ–Ω–∞</button>
                <button type="submit" class="btn btn-success">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block scripts %}
{{ super() }}
<script src="{{ url_for('static', filename='js/admin_books.js') }}"></script>
{% endblock %}

